<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promise Tracker</title>
</head>
<body>
  <table border="1">
    <thead>
      <tr>
        <th>Promise</th>
        <th>Time Taken (Seconds)</th>
      </tr>
    </thead>
    <tbody id="output">
      <tr>
        <td colspan="2">Loading...</td>
      </tr>
    </tbody>
  </table>

  <script>
    function createPromise(index) {
      const delay = Math.random() * 2000 + 1000; // 1000ms to 3000ms
      return new Promise(resolve => {
        const start = performance.now();
        setTimeout(() => {
          const end = performance.now();
          const timeTaken = ((end - start) / 1000).toFixed(3);
          resolve({ name: `Promise ${index}`, time: parseFloat(timeTaken) });
        }, delay);
      });
    }

    const startTime = performance.now();
    const promises = [1, 2, 3].map(i => createPromise(i));

    Promise.all(promises).then(results => {
      const tbody = document.getElementById("output");
      tbody.innerHTML = ''; // Remove loading row

      results.forEach(result => {
        const row = document.createElement("tr");
        const td1 = document.createElement("td");
        const td2 = document.createElement("td");

        td1.textContent = result.name;
        td2.textContent = result.time.toFixed(3);

        row.appendChild(td1);
        row.appendChild(td2);
        tbody.appendChild(row);
      });

      const totalTime = ((performance.now() - startTime) / 1000).toFixed(3);
      const totalRow = document.createElement("tr");
      const totalLabel = document.createElement("td");
      const totalValue = document.createElement("td");

      totalLabel.textContent = "Total";
      totalValue.textContent = totalTime;

      totalRow.appendChild(totalLabel);
      totalRow.appendChild(totalValue);
      tbody.appendChild(totalRow);
    });
  </script>
</body>
</html>
